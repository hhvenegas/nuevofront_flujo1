<section class="d-block d-sm-block d-md-block d-lg-none d-xl-none bg-dark-green">
	<div class="container">
		<div class="row"  *ngIf="package!=null">
			<div class="col-3">
				<br>
				<div style="background-color:#ffff;padding: 5px;border:1px solid #b7c1bf;border-radius: 2px;width: 60px;height: 60px" align="center">
					<img src="/assets/img/makers/{{aig.maker}}.png" style="width: 40px;height: 40px;" alt="">
				</div>
				<br>
			</div>
			<div class="col-9 white">
				<br>
				{{aig.version}} {{aig.year}} <br>
				<span class="bold-opensas white" style="font-size: 18px;">
					Paquete de {{package.package}} km: {{total_cost * sbs | currency}}
				</span>
			</div>
		</div>
	</div>
</section>
<section class="d-none d-sm-none d-md-none d-lg-block d-xl-blog" style="padding-top:40px"></section>
<section> 
	<div class="container">
		<form  #cart="ngForm" (ngSubmit)="onSubmit()" ngNativeValidate>
			<div class="row">
				<div class="col-md-7">
					<div class="row">
						<div class="col-md-12 d-none d-sm-none d-md-none d-lg-block d-xl-block">
							<a class="black" href="/cotizaciones/{{quote_id}}">Paquetes</a> &nbsp;&nbsp;
							<i class="fas fa-chevron-right" style="font-size: 20px; position: relative;top:5px"></i>&nbsp;&nbsp;
							<a class="black" href="/compra-kilometros/{{quote_id}}/{{package_id}}">Datos del auto</a> &nbsp;&nbsp;
							<i class="fas fa-chevron-right" style="font-size: 20px; position: relative;top:5px"></i>&nbsp;&nbsp;
							<span class="bold-opensans">Datos de envío</span> &nbsp;&nbsp;
							<i class="fas fa-chevron-right" style="font-size: 20px; position: relative;top:5px"></i>&nbsp;&nbsp;
							<span>Facturación y pago</span>
							<br><br><br>
						</div>
						<div class="col-12 d-block d-sm-block d-md-block d-lg-none d-xl-none">
							<br>
							Paso 2 de 3
							<br><br>
						</div>
					</div>
					<div class="row">
						<div class="col-md-6">
							<span class="bold-opensans">Nombre</span>
							<input placeholder="Nombre" name="first_name" id="first_name" type="text" class="form-control" required [(ngModel)]="policy.first_name" #first_name="ngModel">	
						</div>
						<div class="col-md-6">
							<span class="bold-opensans">Apellidos</span>
							<input placeholder="Apellidos" name="last_name_one" id="last_name_one" type="text" class="form-control" required [(ngModel)]="policy.last_name_one" #last_name_one="ngModel">
						</div>
						<div class="col-md-6">
							<span class="bold-opensans">Correo electrónico</span>
							<input placeholder="Correo electrónico" name="email" id="email" type="email" class="form-control" disabled [(ngModel)]="policy.email" #email="ngModel">
						</div>
						<div class="col-md-6">
							<span class="bold-opensans">Celular</span>
							<input placeholder="Celular" name="cellphone" id="cellphone" type="text" class="form-control" required [(ngModel)]="policy.cellphone" #cellphone="ngModel" minlength="10">
						</div>
						<div class="col-md-12">
							<hr>
						</div>
						<div class="col-md-6">
							<span class="bold-opensans">Calle</span>
							<input placeholder="Calle" name="street1" id="street1" type="text" class="form-control" required [(ngModel)]="policy.street1" #street1="ngModel">
						</div>
						<div class="col-md-3">
							<span class="bold-opensans">Num. Ext</span>
							<input placeholder="Num. Ext" name="ext_number1" id="ext_number1" type="text" class="form-control" required [(ngModel)]="policy.ext_number1" #ext_number1="ngModel">
						</div>
						<div class="col-md-3">
							<span class="bold-opensans">Num. Int</span>
							<input placeholder="Num. Int" name="int_number1" id="int_number1" type="text" class="form-control" [(ngModel)]="policy.int_number1" #int_number1="ngModel">
						</div>
						<div class="col-md-6">
							<span class="bold-opensans">Código Postal</span>
							<input placeholder="Código Postal" name="zipcode1" id="zipcode1" type="text" class="form-control" disabled [(ngModel)]="policy.zipcode1" #zipcode1="ngModel">
						</div>
						<div class="col-md-6">
							<span class="bold-opensans">Colonia</span>
							<select class="form-control" required="true" [(ngModel)]="policy.suburb1" name="suburb1" #suburb1="ngModel" id="suburb1" (change)="setDirShipping()">
								<option value="" disabled>Seleccionar</option>
								<option *ngFor="let suburb of suburbs1" value="{{suburb.suburb}}">{{suburb.suburb}}</option>
							</select>
						</div>
						<div class="col-md-6">
							<span class="bold-opensans">Ciudad</span>
							<input placeholder="Ciudad" name="city1" id="city1" type="text"class="form-control" disabled [(ngModel)]="policy.city1" #city1="ngModel">
						</div>
						<div class="col-md-6">
							<span class="bold-opensans">Estado</span>
							<input placeholder="Estado" name="state1" id="state1" type="text"class="form-control" disabled [(ngModel)]="policy.state1" #state1="ngModel">
						</div>
						<div class="col-md-12">
							<br>
							<div (click)="changeDir()" class="custom-control custom-checkbox">
								<input *ngIf="checkbox_dir" type="checkbox" class="custom-control-input"  checked>
								<input *ngIf="!checkbox_dir" type="checkbox" class="custom-control-input" >
								<label class="custom-control-label" for="customCheck2">&nbsp;&nbsp;Enviar dispositivo a otra dirección.</label>
							</div>
							<br>
						</div>
					</div>
					<div *ngIf="checkbox_dir" class="row">
						<div class="col-md-12"><br><br></div>
						<div class="col-md-6">
							<span class="bold-opensans">Calle</span>
							<input placeholder="Calle" name="street2" id="street2" type="text" class="form-control" required [(ngModel)]="policy.street2" #street2="ngModel">
						</div>
						<div class="col-md-3">
							<span class="bold-opensans">Num. Ext</span>
							<input placeholder="Num. Ext" name="ext_number2" id="ext_number2" type="text" class="form-control" required [(ngModel)]="policy.ext_number2" #ext_number2="ngModel">
						</div>
						<div class="col-md-3">
							<span class="bold-opensans">Num. Int</span>
							<input placeholder="Num. Int" name="int_number2" id="int_number2" type="text" class="form-control" [(ngModel)]="policy.int_number2" #int_number2="ngModel">
						</div>
						<div class="col-md-6">
							<span class="bold-opensans">Código Postal</span>
							<input placeholder="Código Postal" name="zipcode2" id="zipcode2" type="text" class="form-control" required [(ngModel)]="policy.zipcode2" #zipcode2="ngModel" (change)="validateZipcode()" >	
						</div>
						<div class="col-md-6">
							<span class="bold-opensans">Colonia</span>
							<select class="form-control" required="true" [(ngModel)]="policy.suburb2" name="suburb2" #suburb2="ngModel" id="suburb2">
								<option value="" disabled>Seleccionar</option>
								<option *ngFor="let suburb of suburbs2" value="{{suburb.suburb}}">{{suburb.suburb}}</option>
							</select>
						</div>
						<div class="col-md-6">
							<span class="bold-opensans">Ciudad / Delegación</span>
							<input placeholder="Ciudad" name="city2" id="city2" type="text" class="form-control" disabled [(ngModel)]="policy.city2" #city1="ngModel">
						</div>
						<div class="col-md-6">
							<span class="bold-opensans">Estado</span>
							<input placeholder="Estado" name="state2" id="state2" type="text" class="form-control" disabled [(ngModel)]="policy.state2" #state2="ngModel">
						</div>
						<div class="col-md-12"><br><br></div>
					</div>
					<div class="row">
						<div class="d-block d-sm-block d-md-block d-xl-none d-lg-none col-md-12">
							<br><br>
							<button type="submit" class="btn btn-sxkm-green btn-lg btn-block">
								Continuar
							</button>
							<br><br>
						</div>
					</div>
				</div>
				<div *ngIf="aig!=null" class="col-md-5 border-left d-none d-sm-none d-md-none d-lg-block d-xl-block">
					<div class="row">
						<div class="col-4 col-lg-2">
							<div style="background-color:#fff;width: 70px;height: 70px;padding: 5px;border-radius: 3px;" class="border">
								<img src="/assets/img/makers/{{aig.maker}}.png" alt="{{aig.maker}}" class="img-fluid" style="">
							</div>
						</div>
						<div class="col-8 col-lg-10">
							<br>{{aig.version}} {{aig.year}} 
						</div>
						<div class="col-md-12" *ngIf="isPromotional">
							<br>
							<span class="bold-opensans">Código de promoción: {{policy.promotional_code}}</span>
						</div>			
					</div>
				<div *ngIf="package!=null" class="row">
					<div class="col-md-12">
						<br>
						<div class="card">
							<div class="card-body">
								<div class="row">
									<div class="col-md-6">
										<span class="bold-opensans align-middle">
											Paquete de {{package.package | number}} km <br>
											<small>(Vigencia: {{package.vigency}} mes{{package.vigency!=1 ? 'es':''}} )</small>
										</span>
									</div>
									<div class="col-md-6" align="right">
										<span style="font-size: 20px" class="bold-opensans">
											{{package.cost_by_package * sbs | currency}}
										</span>
									</div>
								</div>
							</div>
						</div>
						<br>
					</div>
					<div class="col-md-12">
						<div class="card">
							<div class="card-body">
								<div class="row">
									<div class="col-md-6">
										<span class="bold-opensans align-middle">
											Suscripción mensual <br>
											Primer mes
										</span>
									</div>
									<div class="col-md-6" align="right">
										<span *ngIf="landing != 'sbs'" style="font-size: 20px" class="bold-opensans">
											$299
										</span>
										<span *ngIf="landing == 'sbs'" style="font-size: 20px" class="bold-opensans">
											{{suscription_sbs | currency}}
										</span>
									</div>
								</div>
							</div>
						</div>
						<br>
					</div> 
				</div>			
				<div *ngIf="package!=null" class="row" >
					<div class="col-md-6">
						<span class="bold-opensas" style="font-size: 22px">Total</span>
					</div>
					<div class="col-md-6" align="right">
						<span class="bold-opensas" style="font-size: 22px">{{total_cost * sbs | currency}}</span>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<br><br>
						<button type="submit" class="btn btn-sxkm-green btn-lg btn-block">
							Continuar
						</button>
						<br><br>
					</div>
				</div>
			</div>
		</div>
	</form>
</div>
	</section>